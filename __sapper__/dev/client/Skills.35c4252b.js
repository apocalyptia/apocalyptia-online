import { S as Skill, a as Specialty } from './Specialty.adf26afb.js';
import { A as AgilitySkills, B as BrainsSkills, C as ConstitutionSkills } from './ConstitutionSkills.56e093ee.js';
import { R as RandomRoll } from './RandomRoll.f18d347c.js';

var PropSort = (a, b, prop) => {
	if (a[prop] > b[prop]) return 1
	if (a[prop] < b[prop]) return -1
	return 0
};

const Leadership = new Skill({
	id: `7596f84f-d625-409d-a7b0-4e0775d96719`,
	name: `Leadership`,
	desc: [
		`Directing the efforts of others`,
		`Modifiers from multiple uses of the same Leadership Specialty do not stack.`,
	],
	parent: `Demeanor`,
	diff: `Demeanor`,
	specs: {
		encourage: new Specialty({
			id: `95b70f3c-d67e-41ae-99ff-2d5864356a59`,
			name: `Encourage`,
			desc: [
				`Roll vs [total target(s) Demeanor]`,
				`Target(s) get a bonus = [your Demeanor] to one roll you choose.`,
			]
		}),
		intimidate: new Specialty({
			id: `ff3e883c-2952-459e-8dbf-d3f666383ec9`,
			name: `Intimidate`,
			desc: [
				`Roll vs [total target(s) Demeanor]`,
				`Target(s) take a penalty = [your Demeanor] to any roll except one you choose.`
			]
		})
	}
});

const Perform = new Skill({
	id: `4507c9b3-3b2e-4c05-be79-89785735180d`,
	name: `Perform`,
	desc: [
		`Captivating an audience.`,
	],
	parent: `Demeanor`,
	diff: `Perception`,
	specs: {
		distract: new Specialty({
			id: `e0029c54-6812-4b0d-b143-f1f8dbc806b0`,
			name: `Distract`,
			desc: [
				`Target is Defenseless for 1 round.`,
			]
		}),
		deceive: new Specialty({
			id: `f6ded447-ec92-4720-8f68-812e8d3a02f5`,
			name: `Deceive`,
			desc: [
				`Target believes your plausible falsehood.`,
			]
		})
	}
});

const Socialize = new Skill({
	id: `aa5d33c4-d9ec-4974-8064-55aba4e75d88`,
	name: `Socialize`,
	desc: [
		`Alter a person’s Attitude by one step.`,
	],
	parent: `Demeanor`,
	diff: `Demeanor`,
	specs: {
		persuade: new Specialty({
			id: `8ad47e9b-a223-455f-9499-72a012509577`,
			name: `Persuade`,
			desc: [
				`(d6mins) Target seriously considers your opinion.`,
			]
		}),
		therapy: new Specialty({
			id: `83398ae1-5fad-45ef-a523-09d2b403ac7c`,
			name: `Therapy`,
			desc: [
				`Heal 1 Trauma`,
				`Cannot be performed again on the same day.`,
				`d6 Trauma on a Botch.`,
			]
		})
	}
});

const Tame = new Skill({
	id: `1e616ba5-99fb-4f11-853f-fe938eed016b`,
	name: `Tame`,
	desc: [
		`Alter an animal’s Attitude by one step.`,
	],
	parent: `Demeanor`,
	diff: `Demeanor`,
	specs: {
		command: new Specialty({
			id: `81e355cf-c841-4c88-802b-1d4c170ef741`,
			name: `Command`,
			desc: [
				`Animal obeys your command.`,
			]
		}),
		train: new Specialty({
			id: `ee8cc929-151e-4f6c-abff-293379d5ee53`,
			name: `Train`,
			desc: [
				`(1wk) Animals learn commands = [its Brains x 2].`,
			]
		})
	}
});

const DemeanorSkills = [
	Leadership,
	Perform,
	Socialize,
	Tame,
];

const SkillList = [
	...AgilitySkills,
	...BrainsSkills,
	...ConstitutionSkills,
	...DemeanorSkills,
];

var Skills = {
	name: `Skills`,
	explanation: [
		`You get Brains x 6 Skill points to assign.`,
		`Skills range from 0 to 6.`,
		`Skill rolls are [d6 + Skill].`,
		`Trait scores set the limit for their Skills.`,
	],
	list: SkillList,
	groups: [
		{
			name: `Agility`,
			list: AgilitySkills
		},
		{
			name: `Brains`,
			list: BrainsSkills
		},
		{
			name: `Constitution`,
			list: ConstitutionSkills
		},
		{
			name: `Demeanor`,
			list: DemeanorSkills
		},
	],
	specs: Object.values(SkillList)
				.map((s) => Object.values(s.specs))
				.reduce((a, b) => a.concat(b), [])
				.sort((a, b) => PropSort(a, b, `name`)),
	startingPoints: (c) => c.traits.brains.score * 6,
	assign: function(c, target) {
		c.skills[target.name].score = parseInt(target.value);
		return this.limit(c, target.name)
	},
	limit: function(c, targetName) {
		const max = c.traits[c.skills[targetName].parent.toLowerCase()].score;
		while(this.remaining(c) < 0 || c.skills[targetName].score > max) {
			c.skills[targetName].score--;
		}
		return c
	},
	random: function(c) {
		c = this.reset(c);
		while(this.remaining(c) > 0) {
			const t = RandomRoll(Object.keys(c.skills));
			const parentScore = c.traits[c.skills[t].parent.toLowerCase()].score;
			if (c.skills[t].score < parentScore) c.skills[t].score++;
		}
		return c
	},
	remaining: function(c) {
		const spent = Object.values(c.skills).reduce((t, { score }) => t += score, 0);
		return this.startingPoints(c) - spent
	},
	reset: function(c) {
		Object.keys(c.skills).forEach(t => c.skills[t].score = 0);
		return c
	},
};

export { DemeanorSkills as D, PropSort as P, Skills as S };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2tpbGxzLjM1YzQyNTJiLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9oZWxwZXJzL3V0aWxzL1Byb3BTb3J0LmpzIiwiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvcnVsZXMvc2tpbGxzL0xlYWRlcnNoaXAuanMiLCIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9ydWxlcy9za2lsbHMvUGVyZm9ybS5qcyIsIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL3J1bGVzL3NraWxscy9Tb2NpYWxpemUuanMiLCIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9ydWxlcy9za2lsbHMvVGFtZS5qcyIsIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL3J1bGVzL3NraWxscy9EZW1lYW5vclNraWxscy5qcyIsIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL3J1bGVzL3NraWxscy9Ta2lsbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgKGEsIGIsIHByb3ApID0+IHtcblx0aWYgKGFbcHJvcF0gPiBiW3Byb3BdKSByZXR1cm4gMVxuXHRpZiAoYVtwcm9wXSA8IGJbcHJvcF0pIHJldHVybiAtMVxuXHRyZXR1cm4gMFxufSIsImltcG9ydCBTa2lsbCBmcm9tICcuL1NraWxsJ1xuaW1wb3J0IFNwZWNpYWx0eSBmcm9tICcuL1NwZWNpYWx0eSdcblxuXG5jb25zdCBMZWFkZXJzaGlwID0gbmV3IFNraWxsKHtcblx0aWQ6IGA3NTk2Zjg0Zi1kNjI1LTQwOWQtYTdiMC00ZTA3NzVkOTY3MTlgLFxuXHRuYW1lOiBgTGVhZGVyc2hpcGAsXG5cdGRlc2M6IFtcblx0XHRgRGlyZWN0aW5nIHRoZSBlZmZvcnRzIG9mIG90aGVyc2AsXG5cdFx0YE1vZGlmaWVycyBmcm9tIG11bHRpcGxlIHVzZXMgb2YgdGhlIHNhbWUgTGVhZGVyc2hpcCBTcGVjaWFsdHkgZG8gbm90IHN0YWNrLmAsXG5cdF0sXG5cdHBhcmVudDogYERlbWVhbm9yYCxcblx0ZGlmZjogYERlbWVhbm9yYCxcblx0c3BlY3M6IHtcblx0XHRlbmNvdXJhZ2U6IG5ldyBTcGVjaWFsdHkoe1xuXHRcdFx0aWQ6IGA5NWI3MGYzYy1kNjdlLTQxYWUtOTlmZi0yZDU4NjQzNTZhNTlgLFxuXHRcdFx0bmFtZTogYEVuY291cmFnZWAsXG5cdFx0XHRkZXNjOiBbXG5cdFx0XHRcdGBSb2xsIHZzIFt0b3RhbCB0YXJnZXQocykgRGVtZWFub3JdYCxcblx0XHRcdFx0YFRhcmdldChzKSBnZXQgYSBib251cyA9IFt5b3VyIERlbWVhbm9yXSB0byBvbmUgcm9sbCB5b3UgY2hvb3NlLmAsXG5cdFx0XHRdXG5cdFx0fSksXG5cdFx0aW50aW1pZGF0ZTogbmV3IFNwZWNpYWx0eSh7XG5cdFx0XHRpZDogYGZmM2U4ODNjLTI5NTItNDU5ZS04ZGJmLWQzZjY2NjM4M2VjOWAsXG5cdFx0XHRuYW1lOiBgSW50aW1pZGF0ZWAsXG5cdFx0XHRkZXNjOiBbXG5cdFx0XHRcdGBSb2xsIHZzIFt0b3RhbCB0YXJnZXQocykgRGVtZWFub3JdYCxcblx0XHRcdFx0YFRhcmdldChzKSB0YWtlIGEgcGVuYWx0eSA9IFt5b3VyIERlbWVhbm9yXSB0byBhbnkgcm9sbCBleGNlcHQgb25lIHlvdSBjaG9vc2UuYFxuXHRcdFx0XVxuXHRcdH0pXG5cdH1cbn0pXG5cbmV4cG9ydCBkZWZhdWx0IExlYWRlcnNoaXAiLCJpbXBvcnQgU2tpbGwgZnJvbSAnLi9Ta2lsbCdcbmltcG9ydCBTcGVjaWFsdHkgZnJvbSAnLi9TcGVjaWFsdHknXG5cblxuY29uc3QgUGVyZm9ybSA9IG5ldyBTa2lsbCh7XG5cdGlkOiBgNDUwN2M5YjMtM2IyZS00YzA1LWJlNzktODk3ODU3MzUxODBkYCxcblx0bmFtZTogYFBlcmZvcm1gLFxuXHRkZXNjOiBbXG5cdFx0YENhcHRpdmF0aW5nIGFuIGF1ZGllbmNlLmAsXG5cdF0sXG5cdHBhcmVudDogYERlbWVhbm9yYCxcblx0ZGlmZjogYFBlcmNlcHRpb25gLFxuXHRzcGVjczoge1xuXHRcdGRpc3RyYWN0OiBuZXcgU3BlY2lhbHR5KHtcblx0XHRcdGlkOiBgZTAwMjljNTQtNjgxMi00YjBkLWIxNDMtZjFmOGRiYzgwNmIwYCxcblx0XHRcdG5hbWU6IGBEaXN0cmFjdGAsXG5cdFx0XHRkZXNjOiBbXG5cdFx0XHRcdGBUYXJnZXQgaXMgRGVmZW5zZWxlc3MgZm9yIDEgcm91bmQuYCxcblx0XHRcdF1cblx0XHR9KSxcblx0XHRkZWNlaXZlOiBuZXcgU3BlY2lhbHR5KHtcblx0XHRcdGlkOiBgZjZkZWQ0NDctZWM5Mi00NzIwLThmNjgtODEyZThkM2EwMmY1YCxcblx0XHRcdG5hbWU6IGBEZWNlaXZlYCxcblx0XHRcdGRlc2M6IFtcblx0XHRcdFx0YFRhcmdldCBiZWxpZXZlcyB5b3VyIHBsYXVzaWJsZSBmYWxzZWhvb2QuYCxcblx0XHRcdF1cblx0XHR9KVxuXHR9XG59KVxuXG5leHBvcnQgZGVmYXVsdCBQZXJmb3JtIiwiaW1wb3J0IFNraWxsIGZyb20gJy4vU2tpbGwnXG5pbXBvcnQgU3BlY2lhbHR5IGZyb20gJy4vU3BlY2lhbHR5J1xuXG5cbmNvbnN0IFNvY2lhbGl6ZSA9IG5ldyBTa2lsbCh7XG5cdGlkOiBgYWE1ZDMzYzQtZDllYy00OTc0LTgwNjQtNTVhYmE0ZTc1ZDg4YCxcblx0bmFtZTogYFNvY2lhbGl6ZWAsXG5cdGRlc2M6IFtcblx0XHRgQWx0ZXIgYSBwZXJzb27igJlzIEF0dGl0dWRlIGJ5IG9uZSBzdGVwLmAsXG5cdF0sXG5cdHBhcmVudDogYERlbWVhbm9yYCxcblx0ZGlmZjogYERlbWVhbm9yYCxcblx0c3BlY3M6IHtcblx0XHRwZXJzdWFkZTogbmV3IFNwZWNpYWx0eSh7XG5cdFx0XHRpZDogYDhhZDQ3ZTliLWEyMjMtNDU1Zi05NDk5LTcyYTAxMjUwOTU3N2AsXG5cdFx0XHRuYW1lOiBgUGVyc3VhZGVgLFxuXHRcdFx0ZGVzYzogW1xuXHRcdFx0XHRgKGQ2bWlucykgVGFyZ2V0IHNlcmlvdXNseSBjb25zaWRlcnMgeW91ciBvcGluaW9uLmAsXG5cdFx0XHRdXG5cdFx0fSksXG5cdFx0dGhlcmFweTogbmV3IFNwZWNpYWx0eSh7XG5cdFx0XHRpZDogYDgzMzk4YWUxLTVmYWQtNDVlZi1hNTIzLTA5ZDJiNDAzYWM3Y2AsXG5cdFx0XHRuYW1lOiBgVGhlcmFweWAsXG5cdFx0XHRkZXNjOiBbXG5cdFx0XHRcdGBIZWFsIDEgVHJhdW1hYCxcblx0XHRcdFx0YENhbm5vdCBiZSBwZXJmb3JtZWQgYWdhaW4gb24gdGhlIHNhbWUgZGF5LmAsXG5cdFx0XHRcdGBkNiBUcmF1bWEgb24gYSBCb3RjaC5gLFxuXHRcdFx0XVxuXHRcdH0pXG5cdH1cbn0pXG5cbmV4cG9ydCBkZWZhdWx0IFNvY2lhbGl6ZSIsImltcG9ydCBTa2lsbCBmcm9tICcuL1NraWxsJ1xuaW1wb3J0IFNwZWNpYWx0eSBmcm9tICcuL1NwZWNpYWx0eSdcblxuXG5jb25zdCBUYW1lID0gbmV3IFNraWxsKHtcblx0aWQ6IGAxZTYxNmJhNS05OWZiLTRmMTEtODUzZi1mZTkzOGVlZDAxNmJgLFxuXHRuYW1lOiBgVGFtZWAsXG5cdGRlc2M6IFtcblx0XHRgQWx0ZXIgYW4gYW5pbWFs4oCZcyBBdHRpdHVkZSBieSBvbmUgc3RlcC5gLFxuXHRdLFxuXHRwYXJlbnQ6IGBEZW1lYW5vcmAsXG5cdGRpZmY6IGBEZW1lYW5vcmAsXG5cdHNwZWNzOiB7XG5cdFx0Y29tbWFuZDogbmV3IFNwZWNpYWx0eSh7XG5cdFx0XHRpZDogYDgxZTM1NWNmLWM4NDEtNGM4OC04MDJiLTFkNGMxNzBlZjc0MWAsXG5cdFx0XHRuYW1lOiBgQ29tbWFuZGAsXG5cdFx0XHRkZXNjOiBbXG5cdFx0XHRcdGBBbmltYWwgb2JleXMgeW91ciBjb21tYW5kLmAsXG5cdFx0XHRdXG5cdFx0fSksXG5cdFx0dHJhaW46IG5ldyBTcGVjaWFsdHkoe1xuXHRcdFx0aWQ6IGBlZThjYzkyOS0xNTFlLTRmNmMtYWJmZi0yOTMzNzlkNWVlNTNgLFxuXHRcdFx0bmFtZTogYFRyYWluYCxcblx0XHRcdGRlc2M6IFtcblx0XHRcdFx0YCgxd2spIEFuaW1hbHMgbGVhcm4gY29tbWFuZHMgPSBbaXRzIEJyYWlucyB4IDJdLmAsXG5cdFx0XHRdXG5cdFx0fSlcblx0fVxufSlcblxuZXhwb3J0IGRlZmF1bHQgVGFtZSIsImltcG9ydCBsZWFkZXJzaGlwIGZyb20gJy4vTGVhZGVyc2hpcCdcbmltcG9ydCBwZXJmb3JtIGZyb20gJy4vUGVyZm9ybSdcbmltcG9ydCBzb2NpYWxpemUgZnJvbSAnLi9Tb2NpYWxpemUnXG5pbXBvcnQgdGFtZSBmcm9tICcuL1RhbWUnXG5cblxuY29uc3QgRGVtZWFub3JTa2lsbHMgPSBbXG5cdGxlYWRlcnNoaXAsXG5cdHBlcmZvcm0sXG5cdHNvY2lhbGl6ZSxcblx0dGFtZSxcbl1cblxuZXhwb3J0IGRlZmF1bHQgRGVtZWFub3JTa2lsbHMiLCJpbXBvcnQgQWdpbGl0eVNraWxscyBmcm9tICdydWxlcy9za2lsbHMvQWdpbGl0eVNraWxscy5qcydcbmltcG9ydCBCcmFpbnNTa2lsbHMgZnJvbSAncnVsZXMvc2tpbGxzL0JyYWluc1NraWxscy5qcydcbmltcG9ydCBDb25zdGl0dXRpb25Ta2lsbHMgZnJvbSAncnVsZXMvc2tpbGxzL0NvbnN0aXR1dGlvblNraWxscy5qcydcbmltcG9ydCBEZW1lYW5vclNraWxscyBmcm9tICdydWxlcy9za2lsbHMvRGVtZWFub3JTa2lsbHMuanMnXG5pbXBvcnQgUHJvcFNvcnQgZnJvbSAndXRpbHMvUHJvcFNvcnQuanMnXG5pbXBvcnQgUmFuZG9tUm9sbCBmcm9tICdyYW5kb20vUmFuZG9tUm9sbC5qcydcblxuXG5leHBvcnQgY29uc3QgU3BlY2lhbHR5RXhwbGFuYXRpb24gPSBgU3BlY2lhbHRpZXMgKGxpc3RlZCBiZWxvdyB0aGVpciBTa2lsbHMpIGVxdWFsIHRoZWlyIHBhcmVudCBTa2lsbCBieSBkZWZhdWx0LiBTcGVjaWFsdGllcyBjYW4gZXhjZWVkIHRoZSBwYXJlbnQgU2tpbGwgYnkgdGFraW5nIHRoZSBTcGVjaWFsaXplIEFiaWxpdHkuIFVubGVzcyBvdGhlcndpc2Ugbm90ZWQsIGEgU2tpbGwgdGFrZXMgb25lIEFjdGlvbi5gXG5cbmV4cG9ydCBjb25zdCBTa2lsbEZsb3dFeHBsYW5hdGlvbiA9IGBTa2lsbCBGbG93OiBPbmNlIHBlciBtb250aCAoaW4tZ2FtZSksIHRyYW5zZmVyIDEgcG9pbnQgZnJvbSBhIFNraWxsIHlvdSBoYXZlIG5vdCB1c2VkIHRvIG9uZSB0aGF0IHlvdSBoYXZlIHVzZWQuYFxuXG5jb25zdCBTa2lsbExpc3QgPSBbXG5cdC4uLkFnaWxpdHlTa2lsbHMsXG5cdC4uLkJyYWluc1NraWxscyxcblx0Li4uQ29uc3RpdHV0aW9uU2tpbGxzLFxuXHQuLi5EZW1lYW5vclNraWxscyxcbl1cblxuZXhwb3J0IGRlZmF1bHQge1xuXHRuYW1lOiBgU2tpbGxzYCxcblx0ZXhwbGFuYXRpb246IFtcblx0XHRgWW91IGdldCBCcmFpbnMgeCA2IFNraWxsIHBvaW50cyB0byBhc3NpZ24uYCxcblx0XHRgU2tpbGxzIHJhbmdlIGZyb20gMCB0byA2LmAsXG5cdFx0YFNraWxsIHJvbGxzIGFyZSBbZDYgKyBTa2lsbF0uYCxcblx0XHRgVHJhaXQgc2NvcmVzIHNldCB0aGUgbGltaXQgZm9yIHRoZWlyIFNraWxscy5gLFxuXHRdLFxuXHRsaXN0OiBTa2lsbExpc3QsXG5cdGdyb3VwczogW1xuXHRcdHtcblx0XHRcdG5hbWU6IGBBZ2lsaXR5YCxcblx0XHRcdGxpc3Q6IEFnaWxpdHlTa2lsbHNcblx0XHR9LFxuXHRcdHtcblx0XHRcdG5hbWU6IGBCcmFpbnNgLFxuXHRcdFx0bGlzdDogQnJhaW5zU2tpbGxzXG5cdFx0fSxcblx0XHR7XG5cdFx0XHRuYW1lOiBgQ29uc3RpdHV0aW9uYCxcblx0XHRcdGxpc3Q6IENvbnN0aXR1dGlvblNraWxsc1xuXHRcdH0sXG5cdFx0e1xuXHRcdFx0bmFtZTogYERlbWVhbm9yYCxcblx0XHRcdGxpc3Q6IERlbWVhbm9yU2tpbGxzXG5cdFx0fSxcblx0XSxcblx0c3BlY3M6IE9iamVjdC52YWx1ZXMoU2tpbGxMaXN0KVxuXHRcdFx0XHQubWFwKChzKSA9PiBPYmplY3QudmFsdWVzKHMuc3BlY3MpKVxuXHRcdFx0XHQucmVkdWNlKChhLCBiKSA9PiBhLmNvbmNhdChiKSwgW10pXG5cdFx0XHRcdC5zb3J0KChhLCBiKSA9PiBQcm9wU29ydChhLCBiLCBgbmFtZWApKSxcblx0c3RhcnRpbmdQb2ludHM6IChjKSA9PiBjLnRyYWl0cy5icmFpbnMuc2NvcmUgKiA2LFxuXHRhc3NpZ246IGZ1bmN0aW9uKGMsIHRhcmdldCkge1xuXHRcdGMuc2tpbGxzW3RhcmdldC5uYW1lXS5zY29yZSA9IHBhcnNlSW50KHRhcmdldC52YWx1ZSlcblx0XHRyZXR1cm4gdGhpcy5saW1pdChjLCB0YXJnZXQubmFtZSlcblx0fSxcblx0bGltaXQ6IGZ1bmN0aW9uKGMsIHRhcmdldE5hbWUpIHtcblx0XHRjb25zdCBtYXggPSBjLnRyYWl0c1tjLnNraWxsc1t0YXJnZXROYW1lXS5wYXJlbnQudG9Mb3dlckNhc2UoKV0uc2NvcmVcblx0XHR3aGlsZSh0aGlzLnJlbWFpbmluZyhjKSA8IDAgfHwgYy5za2lsbHNbdGFyZ2V0TmFtZV0uc2NvcmUgPiBtYXgpIHtcblx0XHRcdGMuc2tpbGxzW3RhcmdldE5hbWVdLnNjb3JlLS1cblx0XHR9XG5cdFx0cmV0dXJuIGNcblx0fSxcblx0cmFuZG9tOiBmdW5jdGlvbihjKSB7XG5cdFx0YyA9IHRoaXMucmVzZXQoYylcblx0XHR3aGlsZSh0aGlzLnJlbWFpbmluZyhjKSA+IDApIHtcblx0XHRcdGNvbnN0IHQgPSBSYW5kb21Sb2xsKE9iamVjdC5rZXlzKGMuc2tpbGxzKSlcblx0XHRcdGNvbnN0IHBhcmVudFNjb3JlID0gYy50cmFpdHNbYy5za2lsbHNbdF0ucGFyZW50LnRvTG93ZXJDYXNlKCldLnNjb3JlXG5cdFx0XHRpZiAoYy5za2lsbHNbdF0uc2NvcmUgPCBwYXJlbnRTY29yZSkgYy5za2lsbHNbdF0uc2NvcmUrK1xuXHRcdH1cblx0XHRyZXR1cm4gY1xuXHR9LFxuXHRyZW1haW5pbmc6IGZ1bmN0aW9uKGMpIHtcblx0XHRjb25zdCBzcGVudCA9IE9iamVjdC52YWx1ZXMoYy5za2lsbHMpLnJlZHVjZSgodCwgeyBzY29yZSB9KSA9PiB0ICs9IHNjb3JlLCAwKVxuXHRcdHJldHVybiB0aGlzLnN0YXJ0aW5nUG9pbnRzKGMpIC0gc3BlbnRcblx0fSxcblx0cmVzZXQ6IGZ1bmN0aW9uKGMpIHtcblx0XHRPYmplY3Qua2V5cyhjLnNraWxscykuZm9yRWFjaCh0ID0+IGMuc2tpbGxzW3RdLnNjb3JlID0gMClcblx0XHRyZXR1cm4gY1xuXHR9LFxufSJdLCJuYW1lcyI6WyJsZWFkZXJzaGlwIiwicGVyZm9ybSIsInNvY2lhbGl6ZSIsInRhbWUiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxlQUFlLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLEtBQUs7QUFDL0IsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsT0FBTyxDQUFDO0FBQ2hDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ2pDLENBQUMsT0FBTyxDQUFDO0FBQ1Q7O0FDQUEsTUFBTSxVQUFVLEdBQUcsSUFBSSxLQUFLLENBQUM7QUFDN0IsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxvQ0FBb0MsQ0FBQztBQUMzQyxDQUFDLElBQUksRUFBRSxDQUFDLFVBQVUsQ0FBQztBQUNuQixDQUFDLElBQUksRUFBRTtBQUNQLEVBQUUsQ0FBQywrQkFBK0IsQ0FBQztBQUNuQyxFQUFFLENBQUMsMkVBQTJFLENBQUM7QUFDL0UsRUFBRTtBQUNGLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxDQUFDO0FBQ25CLENBQUMsSUFBSSxFQUFFLENBQUMsUUFBUSxDQUFDO0FBQ2pCLENBQUMsS0FBSyxFQUFFO0FBQ1IsRUFBRSxTQUFTLEVBQUUsSUFBSSxTQUFTLENBQUM7QUFDM0IsR0FBRyxFQUFFLEVBQUUsQ0FBQyxvQ0FBb0MsQ0FBQztBQUM3QyxHQUFHLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQztBQUNwQixH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
