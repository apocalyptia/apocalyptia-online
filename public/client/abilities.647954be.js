import{S as t,i as l,s,e,t as a,j as i,c as n,a as r,k as c,l as o,d as f,b as h,I as u,f as m,m as v,J as d,D as p,p as b,n as g,G as y,E,g as A,M as $,C as k,B as L,x as M,y as I,z as D,K as V,L as P,r as x,v as S,w as N,A as T,P as j,u as w,Q as C}from"./client.f5ad92d3.js";import{c as _}from"./characterStore.bc0e2cf8.js";import"./SWBodyguard.54177d3a.js";import"./AppendToGUUID.176d1458.js";import"./Skills.35c4252b.js";import"./Specialty.adf26afb.js";import"./ConstitutionSkills.56e093ee.js";import"./RandomRoll.f18d347c.js";import"./Traits.2656d3ca.js";import{A as O}from"./Abilities.5f272c11.js";function B(t,l,s){const e=t.slice();return e[7]=l[s],e[9]=s,e}function R(t,l,s){const e=t.slice();return e[4]=l[s],e[5]=l,e[6]=s,e}function X(t){let l,s,e,i=t[4].opts[0].name+"";return{c(){l=a(" ("),s=a(i),e=a(")")},l(t){l=c(t," ("),s=c(t,i),e=c(t,")")},m(t,a){m(t,l,a),m(t,s,a),m(t,e,a)},p(t,l){2&l&&i!==(i=t[4].opts[0].name+"")&&b(s,i)},d(t){t&&f(l),t&&f(s),t&&f(e)}}}function z(t){let l,s,i;return{c(){l=e("option"),s=a(t[9]),this.h()},l(e){l=n(e,"OPTION",{value:!0});var a=r(l);s=c(a,t[9]),a.forEach(f),this.h()},h(){l.__value=i=t[9],l.value=l.__value},m(t,e){m(t,l,e),v(l,s)},p:g,d(t){t&&f(l)}}}function U(t){let l,s,g,A,$,k,L,M,I,D,V,P,x,S,N,T,j=t[4].name+"",w=t[4].xp+"",C=t[4].max+"",_=t[4].opts[0]&&X(t),O=Array(t[4].max+1),R=[];for(let l=0;l<O.length;l+=1)R[l]=z(B(t,O,l));function U(){t[2].call(x,t[5],t[6])}return{c(){l=e("div"),s=e("span"),g=a(j),A=i(),_&&_.c(),$=i(),k=e("span"),L=a(w),M=i(),I=e("span"),D=a(C),V=i(),P=e("span"),x=e("select");for(let t=0;t<R.length;t+=1)R[t].c();S=i(),this.h()},l(t){l=n(t,"DIV",{class:!0});var e=r(l);s=n(e,"SPAN",{class:!0});var a=r(s);g=c(a,j),A=o(a),_&&_.l(a),a.forEach(f),$=o(e),k=n(e,"SPAN",{class:!0});var i=r(k);L=c(i,w),i.forEach(f),M=o(e),I=n(e,"SPAN",{class:!0});var h=r(I);D=c(h,C),h.forEach(f),V=o(e),P=n(e,"SPAN",{class:!0});var u=r(P);x=n(u,"SELECT",{class:!0});var m=r(x);for(let t=0;t<R.length;t+=1)R[t].l(m);m.forEach(f),u.forEach(f),S=o(e),e.forEach(f),this.h()},h(){h(s,"class","l-col svelte-35kn9a"),h(k,"class","s-col svelte-35kn9a"),h(I,"class","s-col svelte-35kn9a"),h(x,"class","taken-number"),void 0===t[4].taken&&u(U),h(P,"class","s-col svelte-35kn9a"),h(l,"class","current-ability-row svelte-35kn9a")},m(e,a){m(e,l,a),v(l,s),v(s,g),v(s,A),_&&_.m(s,null),v(l,$),v(l,k),v(k,L),v(l,M),v(l,I),v(I,D),v(l,V),v(l,P),v(P,x);for(let t=0;t<R.length;t+=1)R[t].m(x,null);d(x,t[4].taken),v(l,S),N||(T=[p(x,"change",U),p(x,"blur",t[3])],N=!0)},p(l,e){if(t=l,2&e&&j!==(j=t[4].name+"")&&b(g,j),t[4].opts[0]?_?_.p(t,e):(_=X(t),_.c(),_.m(s,null)):_&&(_.d(1),_=null),2&e&&w!==(w=t[4].xp+"")&&b(L,w),2&e&&C!==(C=t[4].max+"")&&b(D,C),2&e){let l;for(O=Array(t[4].max+1),l=0;l<O.length;l+=1){const s=B(t,O,l);R[l]?R[l].p(s,e):(R[l]=z(s),R[l].c(),R[l].m(x,null))}for(;l<R.length;l+=1)R[l].d(1);R.length=O.length}2&e&&d(x,t[4].taken)},d(t){t&&f(l),_&&_.d(),y(R,t),N=!1,E(T)}}}function q(t){let l,s,u,d,p,b,E,A,$,k,L,M,I,D,V,P,x,S,N,T=t[1].abilities,j=[];for(let l=0;l<T.length;l+=1)j[l]=U(R(t,T,l));return{c(){l=e("div"),s=e("div"),u=a("Current Abilities"),d=i(),p=e("div"),b=e("div"),E=e("span"),A=a("Name"),$=i(),k=e("span"),L=a("XP"),M=i(),I=e("span"),D=a("Max"),V=i(),P=e("span"),x=a("Taken"),S=i(),N=e("div");for(let t=0;t<j.length;t+=1)j[t].c();this.h()},l(t){l=n(t,"DIV",{class:!0});var e=r(l);s=n(e,"DIV",{class:!0});var a=r(s);u=c(a,"Current Abilities"),a.forEach(f),d=o(e),p=n(e,"DIV",{class:!0});var i=r(p);b=n(i,"DIV",{class:!0});var h=r(b);E=n(h,"SPAN",{class:!0});var m=r(E);A=c(m,"Name"),m.forEach(f),$=o(h),k=n(h,"SPAN",{class:!0});var v=r(k);L=c(v,"XP"),v.forEach(f),M=o(h),I=n(h,"SPAN",{class:!0});var g=r(I);D=c(g,"Max"),g.forEach(f),V=o(h),P=n(h,"SPAN",{class:!0});var y=r(P);x=c(y,"Taken"),y.forEach(f),h.forEach(f),S=o(i),N=n(i,"DIV",{class:!0});var T=r(N);for(let t=0;t<j.length;t+=1)j[t].l(T);T.forEach(f),i.forEach(f),e.forEach(f),this.h()},h(){h(s,"class","current-abilities-title svelte-35kn9a"),h(E,"class","l-col svelte-35kn9a"),h(k,"class","s-col svelte-35kn9a"),h(I,"class","s-col svelte-35kn9a"),h(P,"class","s-col svelte-35kn9a"),h(b,"class","current-abilities-header svelte-35kn9a"),h(N,"class","current-abilities-list"),h(p,"class","current-abilities-section"),h(l,"class","current-abilities svelte-35kn9a")},m(t,e){m(t,l,e),v(l,s),v(s,u),v(l,d),v(l,p),v(p,b),v(b,E),v(E,A),v(b,$),v(b,k),v(k,L),v(b,M),v(b,I),v(I,D),v(b,V),v(b,P),v(P,x),v(p,S),v(p,N);for(let t=0;t<j.length;t+=1)j[t].m(N,null)},p(t,[l]){if(3&l){let s;for(T=t[1].abilities,s=0;s<T.length;s+=1){const e=R(t,T,s);j[s]?j[s].p(e,l):(j[s]=U(e),j[s].c(),j[s].m(N,null))}for(;s<j.length;s+=1)j[s].d(1);j.length=T.length}},i:g,o:g,d(t){t&&f(l),y(j,t)}}}function H(t,l,s){let e;A(t,_,(t=>s(1,e=t)));let{MasterAbilityList:a}=l;return t.$$set=t=>{"MasterAbilityList"in t&&s(0,a=t.MasterAbilityList)},[a,e,function(t,l){t[l].taken=$(this),_.set(e)},()=>k(_,e.abilities=a.filter((t=>t.taken)),e)]}class G extends t{constructor(t){super(),l(this,t,H,q,s,{MasterAbilityList:0})}}function J(t,l,s){const e=t.slice();return e[5]=l[s],e[7]=s,e}function K(t){let l,s,i;return{c(){l=e("option"),s=a(t[7]),this.h()},l(e){l=n(e,"OPTION",{value:!0});var a=r(l);s=c(a,t[7]),a.forEach(f),this.h()},h(){l.__value=i=t[7],l.value=l.__value},m(t,e){m(t,l,e),v(l,s)},p:g,d(t){t&&f(l)}}}function Q(t){let l,s,A,$,k,L,M,I,D,V,P,x=t[0].name+"",S=Array(t[0].max+1),N=[];for(let l=0;l<S.length;l+=1)N[l]=K(J(t,S,l));return{c(){l=e("div"),s=e("div"),A=e("div"),$=a(x),k=i(),L=e("div"),M=a("Taken:\n\t\t\t"),I=e("select");for(let t=0;t<N.length;t+=1)N[t].c();this.h()},l(t){l=n(t,"DIV",{class:!0});var e=r(l);s=n(e,"DIV",{class:!0});var a=r(s);A=n(a,"DIV",{class:!0});var i=r(A);$=c(i,x),i.forEach(f),k=o(a),L=n(a,"DIV",{class:!0});var h=r(L);M=c(h,"Taken:\n\t\t\t"),I=n(h,"SELECT",{name:!0,class:!0});var u=r(I);for(let t=0;t<N.length;t+=1)N[t].l(u);u.forEach(f),h.forEach(f),a.forEach(f),e.forEach(f),this.h()},h(){h(A,"class","ability-name-label"),h(I,"name",D=t[0].name),h(I,"class","svelte-1sfjlhz"),void 0===t[0].taken&&u((()=>t[3].call(I))),h(L,"class","taken-label"),h(s,"class","ability-section svelte-1sfjlhz"),h(l,"class","options-section svelte-1sfjlhz")},m(e,a){m(e,l,a),v(l,s),v(s,A),v(A,$),v(s,k),v(s,L),v(L,M),v(L,I);for(let t=0;t<N.length;t+=1)N[t].m(I,null);d(I,t[0].taken),V||(P=[p(I,"change",t[3]),p(I,"blur",t[4])],V=!0)},p(t,[l]){if(1&l&&x!==(x=t[0].name+"")&&b($,x),1&l){let s;for(S=Array(t[0].max+1),s=0;s<S.length;s+=1){const e=J(t,S,s);N[s]?N[s].p(e,l):(N[s]=K(e),N[s].c(),N[s].m(I,null))}for(;s<N.length;s+=1)N[s].d(1);N.length=S.length}1&l&&D!==(D=t[0].name)&&h(I,"name",D),1&l&&d(I,t[0].taken)},i:g,o:g,d(t){t&&f(l),y(N,t),V=!1,E(P)}}}function W(t,l,s){let e;A(t,_,(t=>s(2,e=t)));let{ability:a}=l,{MasterAbilityList:i}=l;a=i.filter((t=>t.name==a.name))[0];return t.$$set=t=>{"ability"in t&&s(0,a=t.ability),"MasterAbilityList"in t&&s(1,i=t.MasterAbilityList)},[a,i,e,function(){a.taken=$(this),s(0,a)},()=>k(_,e.abilities=i.filter((t=>t.taken)),e)]}class Y extends t{constructor(t){super(),l(this,t,W,Q,s,{ability:0,MasterAbilityList:1})}}function F(t,l,s){const e=t.slice();return e[8]=l[s],e[10]=s,e}function Z(t,l,s){const e=t.slice();return e[1]=l[s],e[6]=l,e[7]=s,e}function tt(t){let l,s,i;return{c(){l=e("option"),s=a(t[10]),this.h()},l(e){l=n(e,"OPTION",{value:!0});var a=r(l);s=c(a,t[10]),a.forEach(f),this.h()},h(){l.__value=i=t[10],l.value=l.__value},m(t,e){m(t,l,e),v(l,s)},p:g,d(t){t&&f(l)}}}function lt(t){let l,s,g,A,$,k,L,M,I,D,V,P=t[1].opts[0].name+"",x=Array(t[1].max+1),S=[];for(let l=0;l<x.length;l+=1)S[l]=tt(F(t,x,l));function N(){t[4].call(L,t[6],t[7])}return{c(){l=e("div"),s=e("div"),g=a(P),A=i(),$=e("div"),k=a("Taken:\n\t\t\t\t"),L=e("select");for(let t=0;t<S.length;t+=1)S[t].c();I=i(),this.h()},l(t){l=n(t,"DIV",{class:!0});var e=r(l);s=n(e,"DIV",{class:!0});var a=r(s);g=c(a,P),a.forEach(f),A=o(e),$=n(e,"DIV",{class:!0});var i=r($);k=c(i,"Taken:\n\t\t\t\t"),L=n(i,"SELECT",{name:!0,class:!0});var h=r(L);for(let t=0;t<S.length;t+=1)S[t].l(h);h.forEach(f),i.forEach(f),I=o(e),e.forEach(f),this.h()},h(){h(s,"class","ability-name-label"),h(L,"name",M=t[1].name),h(L,"class","svelte-1sfjlhz"),void 0===t[1].taken&&u(N),h($,"class","taken-label"),h(l,"class","ability-section svelte-1sfjlhz")},m(e,a){m(e,l,a),v(l,s),v(s,g),v(l,A),v(l,$),v($,k),v($,L);for(let t=0;t<S.length;t+=1)S[t].m(L,null);d(L,t[1].taken),v(l,I),D||(V=[p(L,"change",N),p(L,"blur",t[5])],D=!0)},p(l,s){if(t=l,4&s&&P!==(P=t[1].opts[0].name+"")&&b(g,P),4&s){let l;for(x=Array(t[1].max+1),l=0;l<x.length;l+=1){const e=F(t,x,l);S[l]?S[l].p(e,s):(S[l]=tt(e),S[l].c(),S[l].m(L,null))}for(;l<S.length;l+=1)S[l].d(1);S.length=x.length}4&s&&M!==(M=t[1].name)&&h(L,"name",M),4&s&&d(L,t[1].taken)},d(t){t&&f(l),y(S,t),D=!1,E(V)}}}function st(t){let l,s=t[2],a=[];for(let l=0;l<s.length;l+=1)a[l]=lt(Z(t,s,l));return{c(){l=e("div");for(let t=0;t<a.length;t+=1)a[t].c();this.h()},l(t){l=n(t,"DIV",{class:!0});var s=r(l);for(let t=0;t<a.length;t+=1)a[t].l(s);s.forEach(f),this.h()},h(){h(l,"class","options-section svelte-1sfjlhz")},m(t,s){m(t,l,s);for(let t=0;t<a.length;t+=1)a[t].m(l,null)},p(t,[e]){if(13&e){let i;for(s=t[2],i=0;i<s.length;i+=1){const n=Z(t,s,i);a[i]?a[i].p(n,e):(a[i]=lt(n),a[i].c(),a[i].m(l,null))}for(;i<a.length;i+=1)a[i].d(1);a.length=s.length}},i:g,o:g,d(t){t&&f(l),y(a,t)}}}function et(t,l,s){let e;A(t,_,(t=>s(3,e=t)));let{ability:a}=l,{MasterAbilityList:i}=l,n=i.filter((t=>t.name==a.name));return t.$$set=t=>{"ability"in t&&s(1,a=t.ability),"MasterAbilityList"in t&&s(0,i=t.MasterAbilityList)},[i,a,n,e,function(t,l){t[l].taken=$(this),s(2,n)},()=>k(_,e.abilities=i.filter((t=>t.taken)),e)]}class at extends t{constructor(t){super(),l(this,t,et,st,s,{ability:1,MasterAbilityList:0})}}function it(t){let l,s;return l=new Y({props:{ability:t[0],MasterAbilityList:t[1]}}),{c(){x(l.$$.fragment)},l(t){S(l.$$.fragment,t)},m(t,e){N(l,t,e),s=!0},p(t,s){const e={};1&s&&(e.ability=t[0]),2&s&&(e.MasterAbilityList=t[1]),l.$set(e)},i(t){s||(D(l.$$.fragment,t),s=!0)},o(t){M(l.$$.fragment,t),s=!1},d(t){T(l,t)}}}function nt(t){let l,s;return l=new at({props:{ability:t[0],MasterAbilityList:t[1]}}),{c(){x(l.$$.fragment)},l(t){S(l.$$.fragment,t)},m(t,e){N(l,t,e),s=!0},p(t,s){const e={};1&s&&(e.ability=t[0]),2&s&&(e.MasterAbilityList=t[1]),l.$set(e)},i(t){s||(D(l.$$.fragment,t),s=!0)},o(t){M(l.$$.fragment,t),s=!1},d(t){T(l,t)}}}function rt(t){let l,s,u,d,g,y,A,$,k,V,P,x,S,N,T,j,w,C,_,O,B,R,X,z,U,q=t[0].name+"",H=t[0].desc+"";const G=[nt,it],J=[];function K(t,l){return t[0].opts.length?0:1}return w=K(t),C=J[w]=G[w](t),{c(){l=e("div"),s=i(),u=e("div"),d=e("div"),g=e("div"),y=e("h2"),A=a(q),$=i(),k=e("div"),V=e("span"),P=a("Description:"),x=i(),S=e("span"),N=a(H),T=i(),j=e("div"),C.c(),_=i(),O=e("div"),B=e("button"),R=a("Close"),this.h()},l(t){l=n(t,"DIV",{class:!0}),r(l).forEach(f),s=o(t),u=n(t,"DIV",{class:!0,role:!0,"aria-modal":!0});var e=r(u);d=n(e,"DIV",{class:!0});var a=r(d);g=n(a,"DIV",{class:!0});var i=r(g);y=n(i,"H2",{class:!0});var h=r(y);A=c(h,q),h.forEach(f),i.forEach(f),$=o(a),k=n(a,"DIV",{class:!0});var m=r(k);V=n(m,"SPAN",{class:!0});var v=r(V);P=c(v,"Description:"),v.forEach(f),x=o(m),S=n(m,"SPAN",{class:!0});var p=r(S);N=c(p,H),p.forEach(f),m.forEach(f),T=o(a),j=n(a,"DIV",{class:!0});var b=r(j);C.l(b),b.forEach(f),_=o(a),O=n(a,"DIV",{class:!0});var E=r(O);B=n(E,"BUTTON",{class:!0});var L=r(B);R=c(L,"Close"),L.forEach(f),E.forEach(f),a.forEach(f),e.forEach(f),this.h()},h(){h(l,"class","modal-background svelte-1l8191m"),h(y,"class","svelte-1l8191m"),h(g,"class","ability-name svelte-1l8191m"),h(V,"class","description-label svelte-1l8191m"),h(S,"class","ability-description svelte-1l8191m"),h(k,"class","description-section svelte-1l8191m"),h(j,"class","stats-section svelte-1l8191m"),h(B,"class","svelte-1l8191m"),h(O,"class","btn-row svelte-1l8191m"),h(d,"class","modal-content svelte-1l8191m"),h(u,"class","modal svelte-1l8191m"),h(u,"role","dialog"),h(u,"aria-modal","true")},m(e,a){m(e,l,a),m(e,s,a),m(e,u,a),v(u,d),v(d,g),v(g,y),v(y,A),v(d,$),v(d,k),v(k,V),v(V,P),v(k,x),v(k,S),v(S,N),v(d,T),v(d,j),J[w].m(j,null),v(d,_),v(d,O),v(O,B),v(B,R),X=!0,z||(U=[p(window,"keydown",t[3]),p(l,"click",t[4]),p(B,"click",t[5])],z=!0)},p(t,[l]){(!X||1&l)&&q!==(q=t[0].name+"")&&b(A,q),(!X||1&l)&&H!==(H=t[0].desc+"")&&b(N,H);let s=w;w=K(t),w===s?J[w].p(t,l):(L(),M(J[s],1,1,(()=>{J[s]=null})),I(),C=J[w],C||(C=J[w]=G[w](t),C.c()),D(C,1),C.m(j,null))},i(t){X||(D(C),X=!0)},o(t){M(C),X=!1},d(t){t&&f(l),t&&f(s),t&&f(u),J[w].d(),z=!1,E(U)}}}function ct(t,l,s){let{ability:e}=l,{MasterAbilityList:a}=l;const i=V(),n="undefined"!=typeof document&&document.activeElement;n&&P((t=>n.focus()));return t.$$set=t=>{"ability"in t&&s(0,e=t.ability),"MasterAbilityList"in t&&s(1,a=t.MasterAbilityList)},[e,a,i,t=>{"Escape"===t.key&&i("close")},()=>i("close"),()=>i("close")]}class ot extends t{constructor(t){super(),l(this,t,ct,rt,s,{ability:0,MasterAbilityList:1})}}var ft=(t,l=null)=>(t.visible=!t.visible,l);function ht(t){let l,s;return l=new ot({props:{ability:t[1],MasterAbilityList:t[0]}}),l.$on("close",t[3]),{c(){x(l.$$.fragment)},l(t){S(l.$$.fragment,t)},m(t,e){N(l,t,e),s=!0},p(t,s){const e={};2&s&&(e.ability=t[1]),1&s&&(e.MasterAbilityList=t[0]),l.$set(e)},i(t){s||(D(l.$$.fragment,t),s=!0)},o(t){M(l.$$.fragment,t),s=!1},d(t){T(l,t)}}}function ut(t){let l,s,u,d,g,y,E,A,$,k,V,P,x,S=t[1].name+"",N=t[1].desc+"",T=1==t[1].visible&&ht(t);return{c(){l=e("div"),s=e("div"),u=e("span"),d=a(S),g=i(),y=e("div"),E=e("span"),A=a(N),$=i(),T&&T.c(),k=j(),this.h()},l(t){l=n(t,"DIV",{class:!0});var e=r(l);s=n(e,"DIV",{class:!0});var a=r(s);u=n(a,"SPAN",{class:!0});var i=r(u);d=c(i,S),i.forEach(f),a.forEach(f),g=o(e),y=n(e,"DIV",{class:!0});var h=r(y);E=n(h,"SPAN",{class:!0});var m=r(E);A=c(m,N),m.forEach(f),h.forEach(f),e.forEach(f),$=o(t),T&&T.l(t),k=j(),this.h()},h(){h(u,"class","ability-name svelte-kyd8dq"),h(s,"class","card-row svelte-kyd8dq"),h(E,"class","ability-description"),h(y,"class","card-row svelte-kyd8dq"),h(l,"class","ability-card svelte-kyd8dq")},m(e,a){m(e,l,a),v(l,s),v(s,u),v(u,d),v(l,g),v(l,y),v(y,E),v(E,A),m(e,$,a),T&&T.m(e,a),m(e,k,a),V=!0,P||(x=p(l,"click",t[2]),P=!0)},p(t,[l]){(!V||2&l)&&S!==(S=t[1].name+"")&&b(d,S),(!V||2&l)&&N!==(N=t[1].desc+"")&&b(A,N),1==t[1].visible?T?(T.p(t,l),2&l&&D(T,1)):(T=ht(t),T.c(),D(T,1),T.m(k.parentNode,k)):T&&(L(),M(T,1,1,(()=>{T=null})),I())},i(t){V||(D(T),V=!0)},o(t){M(T),V=!1},d(t){t&&f(l),t&&f($),T&&T.d(t),t&&f(k),P=!1,x()}}}function mt(t,l,s){let{ability:e}=l,{MasterAbilityList:a}=l;return t.$$set=t=>{"ability"in t&&s(1,e=t.ability),"MasterAbilityList"in t&&s(0,a=t.MasterAbilityList)},[a,e,()=>s(0,a=ft(e,a)),()=>s(0,a=ft(e,a))]}class vt extends t{constructor(t){super(),l(this,t,mt,ut,s,{ability:1,MasterAbilityList:0})}}function dt(t,l,s){const e=t.slice();return e[2]=l[s],e}function pt(t){let l,s;return l=new vt({props:{ability:t[2],MasterAbilityList:t[1]}}),{c(){x(l.$$.fragment)},l(t){S(l.$$.fragment,t)},m(t,e){N(l,t,e),s=!0},p(t,s){const e={};1&s&&(e.ability=t[2]),2&s&&(e.MasterAbilityList=t[1]),l.$set(e)},i(t){s||(D(l.$$.fragment,t),s=!0)},o(t){M(l.$$.fragment,t),s=!1},d(t){T(l,t)}}}function bt(t){let l,s,u,d,p,g,E,A=t[0].name+"",$=t[0].list,k=[];for(let l=0;l<$.length;l+=1)k[l]=pt(dt(t,$,l));const V=t=>M(k[t],1,1,(()=>{k[t]=null}));return{c(){l=e("details"),s=e("summary"),u=a(A),d=a("XP Abilities"),p=i(),g=e("div");for(let t=0;t<k.length;t+=1)k[t].c();this.h()},l(t){l=n(t,"DETAILS",{class:!0});var e=r(l);s=n(e,"SUMMARY",{});var a=r(s);u=c(a,A),d=c(a,"XP Abilities"),a.forEach(f),p=o(e),g=n(e,"DIV",{class:!0});var i=r(g);for(let t=0;t<k.length;t+=1)k[t].l(i);i.forEach(f),e.forEach(f),this.h()},h(){h(g,"class","ability-group-card"),h(l,"class","ability-group-details svelte-ial7of")},m(t,e){m(t,l,e),v(l,s),v(s,u),v(s,d),v(l,p),v(l,g);for(let t=0;t<k.length;t+=1)k[t].m(g,null);E=!0},p(t,[l]){if((!E||1&l)&&A!==(A=t[0].name+"")&&b(u,A),3&l){let s;for($=t[0].list,s=0;s<$.length;s+=1){const e=dt(t,$,s);k[s]?(k[s].p(e,l),D(k[s],1)):(k[s]=pt(e),k[s].c(),D(k[s],1),k[s].m(g,null))}for(L(),s=$.length;s<k.length;s+=1)V(s);I()}},i(t){if(!E){for(let t=0;t<$.length;t+=1)D(k[t]);E=!0}},o(t){k=k.filter(Boolean);for(let t=0;t<k.length;t+=1)M(k[t]);E=!1},d(t){t&&f(l),y(k,t)}}}function gt(t,l,s){let{group:e}=l,{MasterAbilityList:a}=l;return t.$$set=t=>{"group"in t&&s(0,e=t.group),"MasterAbilityList"in t&&s(1,a=t.MasterAbilityList)},[e,a]}class yt extends t{constructor(t){super(),l(this,t,gt,bt,s,{group:0,MasterAbilityList:1})}}function Et(t,l,s){const e=t.slice();return e[4]=l[s],e[6]=s,e}function At(t,l,s){const e=t.slice();return e[7]=l[s],e}function $t(t){let l,s,i=t[7]+"";return{c(){l=e("p"),s=a(i)},l(t){l=n(t,"P",{});var e=r(l);s=c(e,i),e.forEach(f)},m(t,e){m(t,l,e),v(l,s)},p:g,d(t){t&&f(l)}}}function kt(t){let l,s,a;return s=new G({props:{MasterAbilityList:t[1]}}),{c(){l=e("div"),x(s.$$.fragment),this.h()},l(t){l=n(t,"DIV",{class:!0});var e=r(l);S(s.$$.fragment,e),e.forEach(f),this.h()},h(){h(l,"class","section-card")},m(t,e){m(t,l,e),N(s,l,null),a=!0},p:g,i(t){a||(D(s.$$.fragment,t),a=!0)},o(t){M(s.$$.fragment,t),a=!1},d(t){t&&f(l),T(s)}}}function Lt(t){let l,s;return l=new yt({props:{group:t[4],MasterAbilityList:t[1]}}),{c(){x(l.$$.fragment)},l(t){S(l.$$.fragment,t)},m(t,e){N(l,t,e),s=!0},p:g,i(t){s||(D(l.$$.fragment,t),s=!0)},o(t){M(l.$$.fragment,t),s=!1},d(t){T(l,t)}}}function Mt(t){let l,s,u,d,g,A,$,k,V,P,x,S,N,T,j,C,_,B,R,X,z,U,q,H,G,J,K=t[0].props.experience.remaining+"",Q=O.explanation,W=[];for(let l=0;l<Q.length;l+=1)W[l]=$t(At(t,Q,l));let Y=t[0].abilities.length&&kt(t),F=O.groups,Z=[];for(let l=0;l<F.length;l+=1)Z[l]=Lt(Et(t,F,l));const tt=t=>M(Z[t],1,1,(()=>{Z[t]=null}));return{c(){l=i(),s=e("h1"),u=a("Abilities"),d=i(),g=e("div");for(let t=0;t<W.length;t+=1)W[t].c();A=i(),$=e("p"),k=a("Buy Abilities for your Character using XP, or save some or all of your starting XP for later."),V=i(),P=e("div"),x=e("h3"),S=a("Remaining: "),N=a(K),T=i(),Y&&Y.c(),j=i(),C=e("div");for(let t=0;t<Z.length;t+=1)Z[t].c();_=i(),B=e("div"),R=e("button"),X=a("Reset"),z=i(),U=e("button"),q=a("Random"),this.h()},l(t){w('[data-svelte="svelte-1sd5z0r"]',document.head).forEach(f),l=o(t),s=n(t,"H1",{});var e=r(s);u=c(e,"Abilities"),e.forEach(f),d=o(t),g=n(t,"DIV",{class:!0});var a=r(g);for(let t=0;t<W.length;t+=1)W[t].l(a);A=o(a),$=n(a,"P",{});var i=r($);k=c(i,"Buy Abilities for your Character using XP, or save some or all of your starting XP for later."),i.forEach(f),a.forEach(f),V=o(t),P=n(t,"DIV",{class:!0});var h=r(P);x=n(h,"H3",{});var m=r(x);S=c(m,"Remaining: "),N=c(m,K),m.forEach(f),h.forEach(f),T=o(t),Y&&Y.l(t),j=o(t),C=n(t,"DIV",{class:!0});var v=r(C);for(let t=0;t<Z.length;t+=1)Z[t].l(v);v.forEach(f),_=o(t),B=n(t,"DIV",{class:!0});var p=r(B);R=n(p,"BUTTON",{class:!0});var b=r(R);X=c(b,"Reset"),b.forEach(f),z=o(p),U=n(p,"BUTTON",{class:!0});var y=r(U);q=c(y,"Random"),y.forEach(f),p.forEach(f),this.h()},h(){document.title="Apocalyptia Online - Character Creator - Abilities",h(g,"class","explanation"),h(P,"class","remaining"),h(C,"class","abilities-list svelte-1147wm9"),h(R,"class","small-cntr-btn"),h(U,"class","small-cntr-btn"),h(B,"class","btn-row")},m(e,a){m(e,l,a),m(e,s,a),v(s,u),m(e,d,a),m(e,g,a);for(let t=0;t<W.length;t+=1)W[t].m(g,null);v(g,A),v(g,$),v($,k),m(e,V,a),m(e,P,a),v(P,x),v(x,S),v(x,N),m(e,T,a),Y&&Y.m(e,a),m(e,j,a),m(e,C,a);for(let t=0;t<Z.length;t+=1)Z[t].m(C,null);m(e,_,a),m(e,B,a),v(B,R),v(R,X),v(B,z),v(B,U),v(U,q),H=!0,G||(J=[p(R,"click",t[3]),p(U,"click",t[2])],G=!0)},p(t,[l]){if(0&l){let s;for(Q=O.explanation,s=0;s<Q.length;s+=1){const e=At(t,Q,s);W[s]?W[s].p(e,l):(W[s]=$t(e),W[s].c(),W[s].m(g,A))}for(;s<W.length;s+=1)W[s].d(1);W.length=Q.length}if((!H||1&l)&&K!==(K=t[0].props.experience.remaining+"")&&b(N,K),t[0].abilities.length?Y?(Y.p(t,l),1&l&&D(Y,1)):(Y=kt(t),Y.c(),D(Y,1),Y.m(j.parentNode,j)):Y&&(L(),M(Y,1,1,(()=>{Y=null})),I()),2&l){let s;for(F=O.groups,s=0;s<F.length;s+=1){const e=Et(t,F,s);Z[s]?(Z[s].p(e,l),D(Z[s],1)):(Z[s]=Lt(e),Z[s].c(),D(Z[s],1),Z[s].m(C,null))}for(L(),s=F.length;s<Z.length;s+=1)tt(s);I()}},i(t){if(!H){D(Y);for(let t=0;t<F.length;t+=1)D(Z[t]);H=!0}},o(t){M(Y),Z=Z.filter(Boolean);for(let t=0;t<Z.length;t+=1)M(Z[t]);H=!1},d(t){t&&f(l),t&&f(s),t&&f(d),t&&f(g),y(W,t),t&&f(V),t&&f(P),t&&f(T),Y&&Y.d(t),t&&f(j),t&&f(C),y(Z,t),t&&f(_),t&&f(B),G=!1,E(J)}}}function It(t,l,s){let e;A(t,_,(t=>s(0,e=t)));let a=O.masterList;return C((t=>{k(_,e.abilities=a.filter((t=>t.taken)),e),k(_,e=O.remainingXP(e),e)})),[e,a,()=>k(_,e=O.random(e),e),()=>k(_,e=O.reset(e),e)]}export default class extends t{constructor(t){super(),l(this,t,It,Mt,s,{})}}
